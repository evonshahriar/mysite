<!doctype html>
<html lang="zh-hans">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      id="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>
      Getting Started With Multi Module Workspaces | 
    </title><meta
  name="application-name"
  content="" />
<meta
  name="apple-mobile-web-app-title"
  content="" />


  <meta name="title" content="Getting Started With Multi Module Workspaces" />



  <meta name="description" content="This tutorial introduces the basics of multi-module workspaces in Go.

With multi-module workspaces, you can tell the Go command that you’re writing code in multiple modules at the same time and easily build and run code in those modules. 

In this tutorial, you’ll create two modules in a shared multi-module workspace, make changes across those modules, and see the results of those changes in a build." />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" /><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />












  
    <link rel="stylesheet" href="/css/styles.css" />
  





<link href="/font/Oswald-VariableFont_wght/result.css" rel="stylesheet" />

  
    
    
    
    <link href="/css/syntax.css" rel="stylesheet" />
  <script
  defer
  src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.13.10/dist/cdn.min.js"></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.13.10/dist/cdn.min.js"></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.10/dist/cdn.min.js"></script>
<script>

  let _initDarkMode = localStorage.getItem("color-theme") === "dark" || (!("color-theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches);

  if (_initDarkMode) {
    document.documentElement.classList.add("dark");
  } else {
    document.documentElement.classList.remove("dark");
  }

  let _enableBgImg = "true" === "true";
  let _lightbgImg = '\/images\/default\/bg.svg';
  let _darkbgImg = '\/images\/default\/bg-dark.svg';

  if (_enableBgImg) {
    let _lightbg = new Image();
    let _darkbg = new Image();
    _lightbg.src = _lightbgImg;
    _darkbg.src = _darkbgImg;
  }

  document.addEventListener("alpine:init", () => {
    Alpine.store("darkMode", {
      on: _initDarkMode,
      animate: 'false' === 'false',

      initDark: _initDarkMode,
      initLight: !(_initDarkMode),
      toDarkAnimate: false,
      toLightAnimate: false,

      toggle() {
        this.on = !this.on;

        this.toDarkAnimate = this.animate && this.on && this.initLight;
        this.toLightAnimate = this.animate && !this.on && this.initDark;

        if (this.on) {
          document.documentElement.classList.add("dark");
          localStorage.setItem("color-theme", "dark");
        } else {
          document.documentElement.classList.remove("dark");
          localStorage.setItem("color-theme", "light");
        }

      },
    });

    Alpine.store('bgImg', {
      on: _enableBgImg,
      light: _lightbgImg,
      dark: _darkbgImg,
      bgImg: Alpine.store('darkMode').on ? this.dark : this.light, 

      init() {
        if (!this.on) {
          this.light = "";
          this.dark = "";
        }
        this.updateBgImg();
        
        Alpine.effect(() => {
          this.updateBgImg();
        });
      },

      updateBgImg() {
        if (this.on) {
          const darkModeOn = Alpine.store('darkMode').on;
          this.bgImg = darkModeOn ? this.dark : this.light;
        } else {
          this.bgImg = "";
        }
      }
    });

  });
</script>



    <style>
      [x-cloak] {
        display: none !important;
      }
    </style>
  </head>

  <body
    x-ref="body"
    x-data="{ 
      shrink: window.scrollY > 10 ? true : false,
      scrollY: 0,
      bgOpen: $store.bgImg.on,
    }"
    @scroll.window="shrink = (window.scrollY > 10 ? true : false)"
    :style="'background-image: ' + 'url(' + $store.bgImg.bgImg + ')'"
    :class="{'bg-white': !bgOpen, 'dark:bg-gray-900': !bgOpen, 'bg-cover': bgOpen, 'bg-fixed': bgOpen, 'dark:delay-300': $store.darkMode.animate}"
    class="-z-10 flex h-screen flex-col scroll-auto">
    
    
    
    <div
      x-show="$store.darkMode.toDarkAnimate"
      x-cloak
      x-transition:enter="animate-bgScaleInTr"
      x-transition:leave="animate-bgScaleOutTr"
      :style="'background-image: ' + 'url(' + $store.bgImg.dark + ')'"
      :class="{'bg-gray-900': !bgOpen,'dark:bg-gray-900': !bgOpen, 'bg-cover': bgOpen, 'bg-fixed': bgOpen}"
      class="fixed left-0 top-0 -z-10 h-full w-full"></div>
    
    
    
    <div
      x-show="$store.darkMode.toLightAnimate"
      x-cloak
      x-transition:enter="animate-bgScaleOutTr"
      x-transition:leave="animate-bgScaleInTr"
      x-init="$watch(
        '$store.darkMode.toLightAnimate', (value) => {
          if (bgOpen) {
            $el.style.backgroundImage = 'url(' + $store.bgImg.dark + ')'
            if (value) {
              setTimeout(() => {
                $el.style.backgroundImage = 'url(' + $store.bgImg.light + ')'
              }, 300)
            } 
          } else {
            $el.classList.remove('bg-white');
            $el.classList.add('bg-gray-900')
            if (value) {
              setTimeout(()=>{
                $el.classList.remove('bg-gray-900');
                $el.classList.add('bg-white')
              }, 300)
            } 
          }
        }
      )"
      :style="'background-image: ' + 'url(' + $store.bgImg.dark + ')'"
      :class="{'bg-gray-900': !bgOpen,'dark:bg-gray-900': !bgOpen, 'bg-cover': bgOpen, 'bg-fixed': bgOpen}"
      class="fixed left-0 top-0 -z-10 h-full w-full"></div><header x-data="{ isMobile: false }" class="z-40 h-38 w-full flex-shrink-0">
  <nav
    id="nav"
    :class="{ 'h-25': shrink, 'h-38': !shrink, 'shadow-md': shrink, 'bg-white/85': shrink, 'dark:bg-gray-900/85': shrink, 'backdrop-blur-md': shrink}"
    class="fixed inset-0 mx-auto flex h-38 items-center justify-between px-4 transition-all duration-500 ease-in-out"
    aria-label="Global">
    <div
      class="mx-auto flex w-screen flex-wrap items-center justify-between place-self-center object-center px-1 md:w-[1000px] md:px-4">
      <div class="flex lg:flex-1"><a x-data href="/" class="p-1.5">
  <span class="sr-only"></span>
  
  
  


  <div class="w-[130px]">
    
    <img
      x-cloak
      x-show="!$store.darkMode.on"
      src=""
      class="h-[56px]"
      alt="Logo" />
    
    <img
      x-cloak
      x-show="$store.darkMode.on"
      src=""
      class="h-[56px]"
      alt="Logo" />
  </div></a>
</div>

      <div class="hidden lg:flex lg:gap-x-6">
        


  <div x-data="{ isOpen: false }" class="hs-menus relative">
    <button
      type="button"
      @click="isOpen = !isOpen"
      class="group flex items-center text-sm font-semibold leading-6 text-gray-900 hover:text-[--hs-text-color-hover] dark:text-white"
      aria-expanded="false">
      
      <svg
        class="size-4 flex-none transition"
        :class="{ 'rotate-180': isOpen }"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true">
        <path
          fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd" />
      </svg>
    </button>

    <div
      x-show="isOpen"
      x-cloak
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0 translate-y-1"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 translate-y-1"
      @click.away="isOpen = false"
      @scroll.window.away="isOpen = false"
      class="absolute -left-6 top-full z-10 mt-3 w-screen max-w-40 overflow-hidden rounded-xl bg-white/95 shadow-lg ring-1 ring-gray-900/5 backdrop-blur-xl dark:bg-gray-800/95">
      <div class="p-2">
        
          <div
            class="relative rounded-lg px-4 py-2.5 text-sm leading-6 hover:bg-gray-300/30 hover:backdrop-blur-md">
            <a
              href="http://localhost:1313/categories/go-tutorial/"
              class="block font-semibold text-gray-900 hover:text-[--hs-text-color-hover] dark:text-gray-400 dark:hover:text-white">
              Go Tutorial
              <span class="absolute inset-0"></span>
            </a>
          </div>
        
      </div>
    </div>
  </div>


      </div>

      <div class="flex flex-1 items-center justify-end">
<div class="flex size-10">
  <button
    type="button"
    @click="$store.darkMode.toggle()"
    class="group rounded-full p-2.5 text-sm text-black transition hover:bg-white hover:shadow-[0_7px_29px_0_rgba(100,100,111,0.2)] dark:text-gray-200 dark:hover:bg-gray-800 dark:hover:shadow-[0_5px_15px_rgba(0,0,0,0.35)]">
    <svg
      x-show="!$store.darkMode.on"
      x-cloak
      class="size-5"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 -960 960 960">
      <path
        d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z" />
    </svg>

    <svg
      x-show="$store.darkMode.on"
      x-cloak
      class="size-5"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 -960 960 960">
      <path
        d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z" />
    </svg>
  </button>
</div>

<div class="flex lg:hidden">
          <button
            type="button"
            @click="isMobile = true; scrollY = window.scrollY; document.body.style.overflow = 'hidden';"
            class="group inline-flex items-center justify-center rounded-full p-2.5 text-center text-black transition hover:bg-white hover:shadow-[0_7px_29px_0_rgba(100,100,111,0.2)] dark:text-gray-200 dark:hover:bg-gray-800 dark:hover:shadow-[0_5px_15px_rgba(0,0,0,0.35)]">
            <span class="sr-only">Open main menu</span>
            <svg
              class="size-5"
              viewBox="0 0 1024 1024"
              version="1.1"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              p-id="9670">
              <path
                d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 784H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 472H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"
                p-id="9671"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  
  <div x-show="isMobile" x-cloak role="dialog" aria-modal="true">
    <div class="fixed inset-0 z-10"></div>
    <div
      class="fixed inset-0 z-10 w-full overflow-y-auto bg-white/85 p-4 backdrop-blur-md dark:bg-gray-900/85 sm:ring-1 sm:ring-gray-900/10">
      <div class="mx-auto mt-10 flex w-full items-center justify-center"><a x-data href="/" class="p-1.5">
  <span class="sr-only"></span>
  
  
  


  <div class="w-[130px]">
    
    <img
      x-cloak
      x-show="!$store.darkMode.on"
      src=""
      class="h-[56px]"
      alt="Logo" />
    
    <img
      x-cloak
      x-show="$store.darkMode.on"
      src=""
      class="h-[56px]"
      alt="Logo" />
  </div></a>
</div>

      <div class="mt-6 flow-root">
        <div class="-my-6 divide-y divide-gray-500/10">
          <div class="flex flex-col space-y-2 py-6">
            


  <div x-data="{ subMenuOpen: false }" class="hs-menus">
    <button
      @click="subMenuOpen = !subMenuOpen"
      type="button"
      :class="{ 'text-[--hs-text-color-hover]': subMenuOpen, 'text-gray-900': !subMenuOpen, 'dark:text-[--hs-text-color-hover]': subMenuOpen, 'dark:text-white': !subMenuOpen }"
      class="group flex w-full flex-col items-center justify-center rounded-lg py-2 pl-3 pr-3.5 text-base font-semibold leading-7 hover:text-[--hs-text-color-hover] dark:text-white"
      aria-controls="disclosure-1"
      aria-expanded="false">
      
      <svg
        :class="{ 'rotate-180': subMenuOpen }"
        class="size-4 flex-none transition"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true">
        <path
          fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd" />
      </svg>
    </button>

    <div
      x-show="subMenuOpen"
      x-cloak
      x-collapse
      class="flex flex-col space-y-1"
      id="disclosure-1">
      
        <a
          href="http://localhost:1313/categories/go-tutorial/"
          class="block rounded-lg px-3 py-2 text-center text-sm font-semibold leading-7 text-gray-900 hover:text-[--hs-text-color-hover] dark:text-white"
          >Go Tutorial</a
        >
      

    </div>
  </div>


          </div>
        </div>
      </div>

      <div class="mt-14 flex h-12 w-full flex-col items-center justify-center">
        <button
          @click="isMobile = false; document.body.style.overflow = ''; window.scrollTo(0, scrollY);"
          class="buttom-circle flex h-12 w-12 items-center justify-center rounded-full bg-white/85 p-3 text-gray-900 backdrop-blur-md  hover:text-gray-500 dark:bg-gray-800/85 dark:text-gray-200">
          <span class="sr-only">Close mobile menu</span>
          <svg
            fill="currentColor"
            class="h-4 w-4"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5967">
            <path
              d="M143.616 47.104l830.08 830.08c26.24 26.24 26.24 69.888 0 96.128-26.24 26.24-69.888 26.24-96.128 0L47.488 143.232c-17.536-26.24-17.536-69.888 0-96.128 26.24-26.24 69.888-26.24 96.128 0z m0 0"
              p-id="5968"></path>
            <path
              d="M982.528 143.232L152.32 973.312c-26.24 26.24-69.888 26.24-96.128 0-26.24-26.24-26.24-69.888 0-96.128L886.4 47.104c26.24-26.24 69.888-26.24 96.128 0 17.408 26.24 17.408 69.888 0 96.128z m0 0"
              p-id="5969"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>

  
  

  
    <div id="hs-feature" class="h-60 w-full md:h-120">




<div class="h-full w-full bg-[#c8484e] text-center"></div>
</div>
  


  <div
    id="hs-content-container"
    class="my-5 w-full rounded-b-lg px-5 md:px-10 lg:px-1">
    <div
      class="mx-auto flex max-w-screen-xl lg:grid lg:grid-flow-col lg:grid-cols-4 xl:grid-cols-5">
      
      <div
  class="hidden lg:sticky lg:top-28 lg:mt-2 lg:flex lg:max-w-60 lg:flex-col lg:items-stretch lg:overflow-y-auto"></div>

      
      <div id="hs-container" class="mx-auto w-full lg:col-span-2 xl:col-span-3">
        <div class="py-5 md:px-1 lg:px-5">
          <div class="flex w-full flex-col">
            <div
              class="hs-content-meta flex flex-row flex-wrap items-center space-x-1 pb-2 pt-1 text-xs font-normal tracking-wide text-gray-500/90 dark:text-gray-500">
              
              <span class="hs-content-category flex flex-row gap-1">
                
                  <span class="italic text-red-700"> > </span>
                  <a
                    class="hover:text-[--hs-text-color-hover] hover:underline hover:decoration-[--decoration-color] hover:underline-offset-4"
                    href="http://localhost:1313/categories/go-tutorial/"
                    >Go Tutorial</a
                  >
                
              </span>
            </div>
            <div
              id="hs-content-title"
              class="hs-content-title py-1 text-start text-3xl font-bold tracking-wide text-black dark:text-white lg:text-4xl">
              Getting Started With Multi Module Workspaces
            </div>

            <div
              class="hs-content-meta flex flex-row flex-wrap items-center space-x-1 pb-1 pt-3.5 text-xs font-extralight tracking-wide text-gray-500/90 dark:text-gray-600">
              <span>2023/06/28</span>
              <div
                class="h-1 w-1 rounded-full bg-red-700 dark:bg-red-700/50"></div>
              <span>1082&nbsp;字数</span>
              <div
                class="h-1 w-1 rounded-full bg-red-700 dark:bg-red-700/50"></div>
              <span>6&nbsp;分钟</span>
              
              
            </div>
          </div>

          
            <div x-data="{ open: false }" class="mt-5 lg:hidden">
              <button
                type="button"
                x-on:click="open = !open"
                class="flex w-full cursor-pointer items-center justify-start rounded-lg py-2 text-gray-500/90 hover:text-gray-700 dark:hover:text-gray-300">
                <span class="shrink-0">
                  <svg
                    :class="{ 'rotate-90': open }"
                    xmlns="http://www.w3.org/2000/svg"
                    class="size-6 transition"
                    fill="currentColor"
                    viewBox="0 -960 960 960">
                    <path d="M400-280v-400l200 200-200 200Z" />
                  </svg>
                </span>

                <span class="hs-toc-title text-sm font-medium">
                  目录
                </span>
              </button>
              <div
                x-cloak
                x-show="open"
                x-collapse.duration.1000ms
                x-on:keydown.escape.window="open = false"
                class="hs-toc mb-3 mt-1 space-y-1 px-2">
                <nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#create-a-module-for-your-code">Create a module for your code</a></li>
    <li><a href="#create-the-workspace">Create the workspace</a>
      <ul>
        <li><a href="#initialize-the-workspace">Initialize the workspace</a></li>
        <li><a href="#run-the-program-in-the-workspace-directory">Run the program in the workspace directory</a></li>
      </ul>
    </li>
    <li><a href="#download-and-modify-the-golangorgxexample-module">Download and modify the golang.org/x/example module</a>
      <ul>
        <li><a href="#run-the-code-in-the-workspace">Run the code in the workspace</a></li>
        <li><a href="#future-step">Future step</a></li>
      </ul>
    </li>
    <li><a href="#learn-more-about-workspaces">Learn more about workspaces</a></li>
  </ul>
</nav>
              </div>
            </div>
          


          <div
            id="hs-content"
            class="hs-content format mx-auto mt-2 max-w-none dark:format-invert md:format-base format-figure:flex format-figure:flex-col format-figure:items-center format-img:cursor-zoom-in dark:text-gray-300 lg:mt-11">
            <p>This tutorial introduces the basics of multi-module workspaces in Go. With multi-module workspaces, you can tell the Go command that you’re writing code in multiple modules at the same time and easily build and run code in those modules.</p>
<p>In this tutorial, you’ll create two modules in a shared multi-module workspace, make changes across those modules, and see the results of those changes in a build.</p>
<p><strong>Note</strong>: For other tutorials, see 
<a
  href="https://go.dev/doc/tutorial/"
  
    target="_blank"
  
  >Tutorials</a
>
.</p>
<h2 class="group head-tag" id="prerequisites">Prerequisites<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#prerequisites"></a></h2><ul>
<li><strong>An installation of Go 1.18 or later.</strong></li>
<li><strong>A tool to edit your code.</strong> Any text editor you have will work fine.</li>
<li><strong>A command terminal.</strong> Go works well using any terminal on Linux and Mac, and on PowerShell or cmd in Windows.</li>
</ul>
<p>This tutorial requires go1.18 or later. Make sure you’ve installed Go at Go 1.18 or later using the links at 
<a
  href="https://go.dev/dl"
  
    target="_blank"
  
  >go.dev/dl</a
>
.</p>
<h2 class="group head-tag" id="create-a-module-for-your-code">Create a module for your code<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#create-a-module-for-your-code"></a></h2><p>To begin, create a module for the code you’ll write.</p>
<ol>
<li>
<p>Open a command prompt and change to your home directory.
On Linux or Mac:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ <span class="nb">cd</span>
</span></span></code></pre></div><p>On Windows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">C:<span class="se">\&gt;</span> <span class="nb">cd</span> %HOMEPATH%
</span></span></code></pre></div><p>The rest of the tutorial will show a $ as the prompt. The commands you use will work on Windows too.</p>
</li>
<li>
<p>From the command prompt, create a directory for your code called workspace.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ mkdir workspace
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> workspace
</span></span></code></pre></div></li>
<li>
<p>Initialize the module
Our example will create a new module hello that will depend on the golang.org/x/example module.</p>
<p>Create the hello module:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ mkdir hello
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> hello
</span></span><span class="line"><span class="cl">$ go mod init example.com/hello
</span></span><span class="line"><span class="cl">go: creating new go.mod: module example.com/hello
</span></span></code></pre></div><p>Add a dependency on the golang.org/x/example module by using go get.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go get golang.org/x/example
</span></span></code></pre></div><p>Create hello.go in the hello directory with the following contents:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">&#34;golang.org/x/example/stringutil&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">stringutil</span><span class="p">.</span><span class="nf">Reverse</span><span class="p">(</span><span class="s">&#34;Hello&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Now, run the hello program:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go run example.com/hello
</span></span><span class="line"><span class="cl">olleH
</span></span></code></pre></div></li>
</ol>
<h2 class="group head-tag" id="create-the-workspace">Create the workspace<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#create-the-workspace"></a></h2><p>In this step, we’ll create a go.work file to specify a workspace with the module.</p>
<h3 class="group head-tag" id="initialize-the-workspace">Initialize the workspace<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#initialize-the-workspace"></a></h3><p>In the workspace directory, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go work init ./hello
</span></span></code></pre></div><p>The go work init command tells go to create a go.work file for a workspace containing the modules in the ./hello directory.</p>
<p>The go command produces a go.work file that looks like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">go</span> <span class="mf">1.18</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">use</span> <span class="p">.</span><span class="o">/</span><span class="nx">hello</span>
</span></span></code></pre></div><p>The go.work file has similar syntax to go.mod.</p>
<p>The go directive tells Go which version of Go the file should be interpreted with. It’s similar to the go directive in the go.mod file.</p>
<p>The use directive tells Go that the module in the hello directory should be main modules when doing a build.</p>
<p>So in any subdirectory of workspace the module will be active.</p>
<h3 class="group head-tag" id="run-the-program-in-the-workspace-directory">Run the program in the workspace directory<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#run-the-program-in-the-workspace-directory"></a></h3><p>In the workspace directory, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go run example.com/hello
</span></span><span class="line"><span class="cl">olleH
</span></span></code></pre></div><p>The Go command includes all the modules in the workspace as main modules. This allows us to refer to a package in the module, even outside the module. Running the go run command outside the module or the workspace would result in an error because the go command wouldn’t know which modules to use.</p>
<p>Next, we’ll add a local copy of the golang.org/x/example module to the workspace. We’ll then add a new function to the stringutil package that we can use instead of Reverse.</p>
<h2 class="group head-tag" id="download-and-modify-the-golangorgxexample-module">Download and modify the golang.org/x/example module<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#download-and-modify-the-golangorgxexample-module"></a></h2><p>In this step, we’ll download a copy of the Git repo containing the golang.org/x/example module, add it to the workspace, and then add a new function to it that we will use from the hello program.</p>
<ol>
<li>
<p>Clone the repository</p>
<p>From the workspace directory, run the git command to clone the repository:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git clone https://go.googlesource.com/example
</span></span><span class="line"><span class="cl">Cloning into <span class="s1">&#39;example&#39;</span>...
</span></span><span class="line"><span class="cl">remote: Total <span class="m">165</span> <span class="o">(</span>delta 27<span class="o">)</span>, reused <span class="m">165</span> <span class="o">(</span>delta 27<span class="o">)</span>
</span></span><span class="line"><span class="cl">Receiving objects: 100% <span class="o">(</span>165/165<span class="o">)</span>, 434.18 KiB <span class="p">|</span> 1022.00 KiB/s, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">Resolving deltas: 100% <span class="o">(</span>27/27<span class="o">)</span>, <span class="k">done</span>.
</span></span></code></pre></div></li>
<li>
<p>Add the module to the workspace</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go work use ./example
</span></span></code></pre></div><p>The go work use command adds a new module to the go.work file. It will now look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">go</span> <span class="mf">1.18</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">use</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="o">/</span><span class="nx">hello</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="o">/</span><span class="nx">example</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>The module now includes both the example.com/hello module and the golang.org/x/example module.</p>
<p>This will allow us to use the new code we will write in our copy of the stringutil module instead of the version of the module in the module cache that we downloaded with the go get command.</p>
</li>
<li>
<p>Add the new function.</p>
<p>We’ll add a new function to uppercase a string to the golang.org/x/example/stringutil package.</p>
<p>Create a new file named toupper.go in the workspace/example/stringutil directory containing the following contents:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">stringutil</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;unicode&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ToUpper uppercases all the runes in its argument string.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">ToUpper</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">rune</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">r</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">unicode</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">string</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>Modify the hello program to use the function.</p>
<p>Modify the contents of workspace/hello/hello.go to contain the following contents:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">&#34;golang.org/x/example/stringutil&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">stringutil</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="s">&#34;Hello&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
<h3 class="group head-tag" id="run-the-code-in-the-workspace">Run the code in the workspace<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#run-the-code-in-the-workspace"></a></h3><p>From the workspace directory, run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go run example.com/hello
</span></span><span class="line"><span class="cl">HELLO
</span></span></code></pre></div><p>The Go command finds the example.com/hello module specified in the command line in the hello directory specified by the go.work file, and similarly resolves the golang.org/x/example import using the go.work file.</p>
<p>go.work can be used instead of adding replace directives to work across multiple modules.</p>
<p>Since the two modules are in the same workspace it’s easy to make a change in one module and use it in another.</p>
<h3 class="group head-tag" id="future-step">Future step<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#future-step"></a></h3><p>Now, to properly release these modules we’d need to make a release of the golang.org/x/example module, for example at v0.1.0. This is usually done by tagging a commit on the module’s version control repository. See the module release workflow documentation for more details. Once the release is done, we can increase the requirement on the golang.org/x/example module in hello/go.mod:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> hello
</span></span><span class="line"><span class="cl">go get golang.org/x/example@v0.1.0
</span></span></code></pre></div><p>That way, the go command can properly resolve the modules outside the workspace.</p>
<h2 class="group head-tag" id="learn-more-about-workspaces">Learn more about workspaces<a data-title-of-head class="group-hover:after:content-['__#'] no-underline hover:text-[--hs-text-color-hover]" href="#learn-more-about-workspaces"></a></h2><p>The go command has a couple of subcommands for working with workspaces in addition to go work init which we saw earlier in the tutorial:</p>
<p>go work use [-r] [dir] adds a use directive to the go.work file for dir, if it exists, and removes the use directory if the argument directory doesn’t exist. The -r flag examines subdirectories of dir recursively.
go work edit edits the go.work file similarly to go mod edit
go work sync syncs dependencies from the workspace’s build list into each of the workspace modules.
See 
<a
  href="https://go.dev/ref/mod#workspaces"
  
    target="_blank"
  
  >Workspaces</a
>
 in the Go Modules Reference for more detail on workspaces and go.work files.</p>
<blockquote>
<p>This article comes from the go official website documentation: 
<a
  href="https://go.dev/doc/tutorial/workspaces"
  
    target="_blank"
  
  >Tutorial: Getting started with multi-module workspaces</a
>
</p>
</blockquote>
          </div>

          <div class="hs-content-meta pb-5 pt-3">
            
            <span
              class="hs-content-tag flex flex-row flex-wrap justify-start gap-2 pl-1 text-sm font-normal tracking-wide text-gray-500/90 dark:text-gray-500">
              
                <a
                  class="text-center hover:text-[--hs-text-color-hover]"
                  href="http://localhost:1313/tags/go/"
                  ><span class="text-red-700 ">#</span
                  ><span
                    class="hover:text-[--hs-text-color-hover] hover:underline hover:decoration-[--decoration-color] hover:underline-offset-4"
                    >Go</span
                  ></a
                >
              
                <a
                  class="text-center hover:text-[--hs-text-color-hover]"
                  href="http://localhost:1313/tags/go.work/"
                  ><span class="text-red-700 ">#</span
                  ><span
                    class="hover:text-[--hs-text-color-hover] hover:underline hover:decoration-[--decoration-color] hover:underline-offset-4"
                    >Go.work</span
                  ></a
                >
              
                <a
                  class="text-center hover:text-[--hs-text-color-hover]"
                  href="http://localhost:1313/tags/multi-module/"
                  ><span class="text-red-700 ">#</span
                  ><span
                    class="hover:text-[--hs-text-color-hover] hover:underline hover:decoration-[--decoration-color] hover:underline-offset-4"
                    >Multi Module</span
                  ></a
                >
              
            </span>
          </div>
        </div>
      </div>
      
      
  <div
    x-data="{ open: true }"
    class="hidden lg:sticky lg:top-28 lg:flex lg:h-96 lg:min-w-60">
    <div
      x-show="!open"
      x-cloak
      x-transition:enter="ease-in-out duration-500"
      x-transition:enter-start="opacity-0"
      x-transition:enter-end="opacity-100"
      x-transition:leave="ease-in-out duration-500"
      x-transition:leave-start="opacity-100"
      x-transition:leave-end="opacity-0"
      class="flex">
      <button
        type="button"
        @click="open = true"
        class="absolute top-5 text-gray-300 hover:text-[--hs-text-color-hover] dark:text-gray-700 dark:hover:text-gray-300">
        <span class="sr-only">Open sidebar</span>
        <svg
          class="h-7 w-7"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 -960 960 960">
          <path
            d="M80-240v-480h480v480H80Zm80-80h320v-320H160v320Zm480-320v-80h80v80h-80Zm0 400v-80h80v80h-80Zm160-400v-80h80v80h-80Zm0 200v-80h80v80h-80Zm0 200v-80h80v80h-80ZM320-480Z" />
        </svg>
      </button>
    </div>
    
    <div
      @keydown.window.escape="open = false"
      x-show="open"
      class="relative z-10 w-full"
      aria-labelledby="slide-over-title"
      role="dialog"
      aria-modal="true">
      <div class="overflow-hidden">
        <div class="absolute overflow-hidden">
          <div class="pointer-events-none right-0 flex w-full">
            <div
              x-show="open"
              x-transition:enter="transform transition ease-in-out duration-500 sm:duration-700"
              x-transition:enter-start="translate-x-full"
              x-transition:enter-end="translate-x-0"
              x-transition:leave="transform transition ease-in-out duration-500 sm:duration-700"
              x-transition:leave-start="translate-x-0"
              x-transition:leave-end="translate-x-full"
              class="pointer-events-auto relative">
              <div class="flex h-full flex-col py-6 shadow-xl lg:min-w-60">
                <div class="flex items-center justify-between pr-2">
                  <h2
                    class="hs-toc-title text-base font-bold leading-6 text-gray-700 dark:text-gray-400"
                    id="slide-over-title">
                    目录
                  </h2>

                  <div
                    x-show="open"
                    x-transition:enter="ease-in-out duration-500"
                    x-transition:enter-start="opacity-0"
                    x-transition:enter-end="opacity-100"
                    x-transition:leave="ease-in-out duration-500"
                    x-transition:leave-start="opacity-100"
                    x-transition:leave-end="opacity-0"
                    class="flex">
                    <button
                      type="button"
                      @click="open = false"
                      class="text-gray-300 hover:text-black focus:outline-none dark:text-gray-400 dark:hover:text-gray-100">
                      <span class="sr-only">Close panel</span>
                      <svg
                        class="h-6 w-6"
                        xmlns="http://www.w3.org/2000/svg"
                        stroke="currentColor"
                        fill="currentColor"
                        viewBox="0 -960 960 960">
                        <path
                          d="M400-240v-480h480v480H400Zm80-80h320v-320H480v320Zm-240 80v-80h80v80h-80Zm0-400v-80h80v80h-80ZM80-240v-80h80v80H80Zm0-200v-80h80v80H80Zm0-200v-80h80v80H80Zm560 160Z" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="relative mt-6 h-128 flex-1">
                  <div id="hs-toc" class="hs-toc text-sm lg:text-xs">
                    <nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#create-a-module-for-your-code">Create a module for your code</a></li>
    <li><a href="#create-the-workspace">Create the workspace</a>
      <ul>
        <li><a href="#initialize-the-workspace">Initialize the workspace</a></li>
        <li><a href="#run-the-program-in-the-workspace-directory">Run the program in the workspace directory</a></li>
      </ul>
    </li>
    <li><a href="#download-and-modify-the-golangorgxexample-module">Download and modify the golang.org/x/example module</a>
      <ul>
        <li><a href="#run-the-code-in-the-workspace">Run the code in the workspace</a></li>
        <li><a href="#future-step">Future step</a></li>
      </ul>
    </li>
    <li><a href="#learn-more-about-workspaces">Learn more about workspaces</a></li>
  </ul>
</nav>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


    </div>

    
    

  </div>

  
  
    <button
      x-data="{
        show: false,
        init() {
          window.addEventListener('scroll', () => {
            this.show = window.scrollY > 100
          })
        }
      }"
      x-show="show"
      @click="window.scrollTo({ top: 0, behavior: 'smooth' })"
      x-cloak
      type="button"
      class="buttom-circle fixed bottom-24 end-8 flex h-14 w-14 items-center justify-center bg-white/85 text-gray-500 backdrop-blur-md dark:bg-gray-800/85 dark:text-gray-500 md:end-20">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="size-6"
        fill="currentColor"
        viewBox="0 -960 960 960">
        <path
          d="M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z" />
      </svg>
      <span class="sr-only">Go to Top</span>
    </button>
  



    <footer
  id="footer"
  x-ref="footer"
  class="hs-footer mx-auto mt-5 flex flex-col items-center gap-y-3 py-6 text-xs text-gray-700 dark:text-gray-500">
  <span class="h-px w-full max-w-4xl bg-gray-700 dark:bg-gray-600"></span>

  <div class="flex h-5 space-x-3">
    



  </div>

  
  
  <span x-data class="flex flex-row items-center justify-center"
    >由<a href="https://gohugo.io/" aria-label="hugo link">
    <img
    src="/images/default/hugo-logo-wide.svg"
    alt="Hugo"
    class="mx-1 h-3" />
    </a> & <a
    href="https://github.com/mrhelloboy/seven"
    aria-label="The github address of seven theme">
    <img
    x-show="!$store.darkMode.on"
    x-cloak
    id="footer-theme-light-logo"
    src="/images/default/seven-logo.svg"
    alt="seven theme logo"
    class="mx-1 h-5" />

    <img
    x-show="$store.darkMode.on"
    x-cloak
    id="footer-theme-dark-logo"
    src="/images/default/seven-logo-dark.svg"
    alt="seven theme logo"
    class="mx-1 h-5" />
    </a>提供支持</span
  >

  <span class="flex flex-col items-center justify-between space-y-3">
    &copy;
    
    
    
       -
      2024
    

    
    版权所有
  </span>
</footer>

  
  
  <script src="/js/toc.js"></script>

  
  
  <script src="/js/zoom-img.js" defer></script>

  
  
  <script src="/js/link-to-top.js" defer></script>

  
    
    
    <script src="/js/code-copy.js" defer></script>
  


  <script>
    function toComment() {
      window.scrollTo({
        top: document.getElementById("hs-comment").offsetTop - 100,
        behavior: "smooth",
      });
    }
  </script>

</body>
</html>
